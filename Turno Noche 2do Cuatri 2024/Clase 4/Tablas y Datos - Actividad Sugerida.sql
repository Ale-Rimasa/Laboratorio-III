CREATE DATABASE Peliculas
GO

USE Peliculas
GO

CREATE TABLE Pais(
	ID_Pais INT NOT NULL PRIMARY KEY IDENTITY (1,1),
	Nombre NVARCHAR(50) NOT NULL
)

CREATE TABLE Genero(
	ID_Genero INT NOT NULL PRIMARY KEY IDENTITY (1,1),
	Nombre NVARCHAR(30) NOT NULL
)

CREATE TABLE Calificaciones(
	ID_Calificaciones INT NOT NULL PRIMARY KEY IDENTITY (1,1),
	Nombre NVARCHAR (50)
)

CREATE TABLE Actores(
	ID_Actores INT NOT NULL PRIMARY KEY IDENTITY (1,1),
	Apellido NVARCHAR(50) NOT NULL,
	Nombre NVARCHAR(50) NOT NULL,
	FechaNacimiento SMALLDATETIME NOT NULL,
	ID_Pais INT NOT NULL FOREIGN KEY REFERENCES Pais(ID_Pais)
)

CREATE TABLE Peliculas(
	ID_Pelicula INT NOT NULL PRIMARY KEY IDENTITY (1,1),
	ID_Pais INT NOT NULL FOREIGN KEY REFERENCES Pais(ID_Pais),
	Titulo NVARCHAR(150) NOT NULL,
	Inversion MONEY,
	Recaudacion MONEY,
	TicketsVendidos BIGINT,
	ID_Genero INT NOT NULL FOREIGN KEY REFERENCES Genero (ID_Genero),
	Fecha_Estreno SMALLDATETIME,
	Duracion TINYINT,
	ID_Calificaciones INT NOT NULL FOREIGN KEY REFERENCES Calificaciones (ID_Calificaciones),
	Puntaje DECIMAL(10,2)
)

CREATE TABLE Actores_X_Pelicula(
  ID_Pelicula INT NOT NULL FOREIGN KEY REFERENCES Peliculas (ID_Pelicula),
  ID_Actores INT NOT NULL FOREIGN KEY REFERENCES Actores (ID_Actores)
  CONSTRAINT PK_AxP PRIMARY KEY (ID_Pelicula, ID_Actores)
)


/*************************************************************************************/
--CREACION DE DATOS

INSERT INTO Calificaciones (NOMBRE) VALUES
('APTO PARA TODO PUBLICO'),
('APTO PARA MAYORES DE 13'),
('APTO PARA MAYORES DE 16')
GO

INSERT INTO Genero (Nombre) VALUES
('TERROR'),
('COMEDIA'),
('CIENCIA FICCION'),
('DRAMA')
GO

INSERT INTO Pais (Nombre) VALUES
('ARGENTINA'),
('ESTADOS UNIDOS'),
('REINO UNIDO'),
('INDIA'),
('FRANCIA'),
('ESPAÑA')
GO

INSERT INTO Actores (Apellido,Nombre,FechaNacimiento,ID_Pais) VALUES
--('DARIN', 'RICARDO', '1957-01-16', 1),
--('BALE', 'CHRISTIAN', '1974/01/30', 3),
--('PALTROW','GWYNETH','1972/11/27',2),
--('FREEMAN', 'MORGAN', '1937/06/01', 2),
('PITT', 'BRAD', '1963-12-18', 2),
('JOHANSSON', 'SCARLETT', '1984-11-22', 2),
('DI CAPRIO', 'LEONARDO', '1974-11-11', 2),
('CRUZ', 'PENELOPE', '1974-04-28', 6),
('REYNOLDS', 'RYAN', '1976-10-23', 2),
('JACKMAN', 'HUGH', '1968-10-12', 3),
('HEMSWORTH', 'CHRIS', '1983-08-11', 3),
('BLANCHETT', 'CATE', '1969-05-14', 3),
('WASHINGTON', 'DENZEL', '1954-12-28', 2),
('PORTMAN', 'NATALIE', '1981-06-09', 2),
('BARDEM', 'JAVIER', '1969-03-01', 6),
('FIRTH', 'COLIN', '1960-09-10', 3),
('STREEP', 'MERYL', '1949-06-22', 2),
('KNIGHTLEY', 'KEIRA', '1985-03-26', 3),
('RAMIREZ', 'EDGAR', '1977-03-25', 5);
GO
GO

INSERT INTO PELICULAS (ID_Pais, TITULO, INVERSION, RECAUDACION, TicketsVendidos, 
ID_Genero, FECHA_ESTRENO, DURACION, ID_Calificaciones, PUNTAJE)
VALUES
--(2, 'SEVEN', 10000000, 30000000, 5000000, 4, '1996/01/15', 127, 2, 8.7),
--(1, 'UN CUENTO CHINO', 5000000, 4000000, 1000000, 2, '2011/03/24', 93, 1, 7.3),
--(2, 'TERMINATOR', 20000000, 90000000, 6000000, 3, '2009/06/03', 115, 2, 6.7),
--(2,'Rapido y Furioso',15000000,50000000,7000000, 3, '2001/05/25', 130, 3, 7.5),
(2, 'INCEPTION', 160000000, 829895144, 10000000, 3, '2010-07-16', 148, 2, 8.8),
(1, 'RELATOS SALVAJES', 3500000, 25000000, 2500000, 2, '2014-08-21', 122, 1, 8.1),
(2, 'TITANIC', 200000000, 2187463944, 10000000, 4, '1997-12-19', 195, 2, 7.8),
(6, 'VOLVER', 11000000, 85000000, 3000000, 2, '2006-03-17', 121, 1, 7.6),
(2, 'AVENGERS: ENDGAME', 356000000, 2797800564, 15000000, 3, '2019-04-26', 181, 2, 8.4),
(3, 'THE KINGS SPEECH', 15000000, 427438272, 4000000, 4, '2010-11-26', 118, 1, 8.0),
(2, 'BLACK SWAN', 13000000, 329398046, 4000000, 4, '2010-12-03', 108, 2, 8.0),
(2, 'DJANGO UNCHAINED', 100000000, 425368238, 9000000, 4, '2012-12-25', 165, 3, 8.4),
(2, 'THE REVENANT', 135000000, 533000000, 7000000, 4, '2015-12-25', 156, 3, 8.0),
(2, 'LA LA LAND', 30000000, 448907632, 4500000, 2, '2016-12-09', 128, 1, 8.0),
(5, 'AMELIE', 10000000, 173921954, 5000000, 2, '2001-04-25', 122, 1, 8.3),
(4, 'LAGAAN', 5000000, 12000000, 6000000, 4, '2001-06-15', 224, 2, 8.1),
(6, 'THE OTHERS', 17000000, 209947037, 7000000, 1, '2001-08-02', 104, 2, 7.6),
(2, 'FIGHT CLUB', 63000000, 101200000, 7000000, 4, '1999-10-15', 139, 3, 8.8),
(3, 'SHAUN OF THE DEAD', 6000000, 30000000, 2000000, 2, '2004-04-09', 99, 2, 7.9),
(2, 'THE MARTIAN', 108000000, 630000000, 6000000, 3, '2015-10-02', 144, 2, 8.0),
(3, 'A BEAUTIFUL MIND', 60000000, 313000000, 5000000, 4, '2001-12-13', 135, 2, 8.2),
(2, 'THE DARK KNIGHT', 185000000, 1004558444, 9000000, 3, '2008-07-18', 152, 2, 9.0),
(2, 'IRON MAN', 140000000, 585000000, 5000000, 3, '2008-05-02', 126, 2, 7.9),
(5, 'INTUCHABLES', 10000000, 426588510, 8000000, 2, '2011-11-02', 112, 1, 8.5),
(4, 'SLUMDOG MILLIONAIRE', 15000000, 378410554, 8000000, 4, '2008-11-12', 120, 2, 8.0),
(2, 'FORREST GUMP', 55000000, 678000000, 7000000, 4, '1994-07-06', 142, 2, 8.8),
(2, 'PULP FICTION', 8000000, 214000000, 10000000, 4, '1994-10-14', 154, 3, 8.9),
(1, 'EL SECRETO DE SUS OJOS', 2000000, 33000000, 2000000, 4, '2009-08-13', 129, 1, 8.2),
(6, 'ABRE LOS OJOS', 8000000, 20000000, 3000000, 1, '1997-12-19', 117, 2, 7.7),
(3, 'LOVE ACTUALLY', 40000000, 246942017, 5000000, 2, '2003-11-14', 135, 2, 7.6),
(2, 'MEMENTO', 9000000, 39694250, 3000000, 4, '2000-10-11', 113, 3, 8.4),
(2, 'JURASSIC PARK', 63000000, 1030000000, 9000000, 3, '1993-06-11', 127, 2, 8.1),
(2, 'STAR WARS: EPISODE IV', 11000000, 775000000, 11000000, 3, '1977-05-25', 121, 1, 8.6),
(2, 'THE MATRIX', 63000000, 466000000, 9000000, 3, '1999-03-31', 136, 2, 8.7);
GO

INSERT INTO Actores_X_Pelicula(ID_Pelicula,ID_Actores)
VALUES
--(2, 2),
--(3, 3),
--(8, 4),
--(2, 3),
(9, 5),  -- Inception, Brad Pitt
(10, 6),  -- Relatos Salvajes, Scarlett Johansson
(11, 7),  -- Titanic, Leonardo Di Caprio
(12, 8),  -- Volver, Penélope Cruz
(13, 9),  -- Avengers: Endgame, Ryan Reynolds
(14, 10), -- The King's Speech, Hugh Jackman
(15, 11), -- Black Swan, Chris Hemsworth
(16, 12), -- Django Unchained, Cate Blanchett
(17, 13), -- The Revenant, Denzel Washington
(18, 14),-- La La Land, Natalie Portman
(19, 15),-- Amelie, Javier Bardem
(20, 16),-- Lagaan, Colin Firth
(21, 17)-- The Others, Meryl Streep


SELECT  * FROM Peliculas
SELECT * FROM Actores
